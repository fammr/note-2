# [tcp/ip协议详解](http://blog.csdn.net/doraemon___/article/details/52711221)

### TCP/IP参考模型

- ISO制定的OSI参考模型的过于庞大、复杂招致了许多批评。与此对照，由技术人员自己开发的TCP/IP协议栈获得了更为广泛的应用。如图所示，是TCP/IP参考模型和OSI参考模型的对比示意图。

  ![](img/2.jpg?raw=true)

- TCP/IP参考模型分为四个层次：应用层、传输层、网络互连层和主机到网络层。

  ![](img/3.jpg?raw=true)

  ![](img/8.png?raw=true)

- 在TCP/IP参考模型中，去掉了OSI参考模型中的**会话层和表示层**（这两层的功能被合并到**应用层**实现）。同时将OSI参考模型中的**数据链路层和物理层**合并为**主机到网络层**。

### 主机到网络层

- 实际上TCP/IP参考模型没有真正描述这一层的实现，只是要求能够提供给其上层-网络互连层一个访问接口，以便在其上传递IP分组。由于这一层次未被定义，所以其具体的实现方法将随着网络类型的不同而不同。　

### 网络互连层

- 网络互连层是整个TCP/IP协议栈的核心，它的功能是**把分组发往目标网络或主机**。同时，为了尽快地发送分组，可能需要沿不同的路径同时进行分组传递。因此，分组到达的顺序和发送的顺序可能不同，这就需要上层必须对分组进行排序。
- 网络互连层定义了分组格式和协议，即**IP协议**（Internet Protocol）。
- 网络互连层除了需要完成路由的功能外，也可以完成**将不同类型的网络（异构网）互连**的任务。除此之外，网络互连层还需要完成**拥塞控制**的功能。

### 传输层

- 在TCP/IP模型中，传输层的功能是使源端主机和目标端主机上的对等实体可以进行会话。在传输层定义了两种服务质量不同的协议。即：传输控制协议**TCP**（transmissioncontrol protocol）和用户数据报协议**UDP**（user datagram protocol）。
- TCP协议是一个面向连接的、可靠的协议。它将一台主机发出的字节流无差错地发往互联网上的其他主机。在发送端，它负责把上层传送下来的字节流分成报文段并传递给下层。在接收端，它负责把收到的报文进行重组后递交给上层。TCP协议还要处理端到端的流量控制，以避免缓慢接收的接收方没有足够的缓冲区接收发送方发送的大量数据。
- UDP协议是一个不可靠的、无连接协议，主要适用于不需要对报文进行排序和流量控制的场合。

### 应用层

- TCP/IP模型将OSI参考模型中的会话层和表示层的功能合并到应用层实现。
- 应用层面向不同的网络应用引入了不同的应用层协议。其中，有基于TCP协议的，如文件传输协议（File Transfer Protocol，FTP）、虚拟终端协议（TELNET）、超文本链接协议（Hyper Text Transfer Protocol，HTTP），也有基于UDP协议的。

